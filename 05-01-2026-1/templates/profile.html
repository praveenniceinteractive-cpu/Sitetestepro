<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Audit Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .progress-bar {
            transition: width 0.3s ease-in-out;
            width: 0%;
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .session-type-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid transparent;
        }

        body {
            background-color: #111827;
            color: white;
            min-height: 100vh;
        }
    </style>
</head>

<body>
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12">
            <div>
                <h1
                    class="text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent">
                    My Audit Profile
                </h1>
                <p class="text-gray-400 mt-2">Welcome back, {{ user.username }}</p>
                <p class="text-gray-500 text-sm mt-1">Email: {{ user.email }}</p>
                <p class="text-gray-500 text-sm">Member since: {{ user.created_at.strftime('%B %d, %Y') if
                    user.created_at else 'N/A' }}</p>
            </div>
            <div class="flex flex-wrap gap-3">
                <a href="/responsive/static"
                    class="px-5 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 rounded-lg transition font-medium">
                    üì± Static Audit
                </a>
                <a href="/h1-audit"
                    class="px-5 py-2.5 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 rounded-lg transition font-medium">
                    H1 Tags Audit
                </a>
                <a href="/phone-audit"
                    class="px-5 py-2.5 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-400 hover:to-teal-500 rounded-lg transition font-medium">
                    üìû Phone Audit
                </a>
                <a href="/" class="px-5 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg transition font-medium">
                    üè† Dashboard
                </a>
                <button onclick="logout()"
                    class="px-5 py-2.5 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 rounded-lg transition font-medium">
                    Logout
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-blue-500/30 col-span-2 md:col-span-1">
                <h3 class="text-sm text-gray-400 mb-1">Total Sessions</h3>
                <p class="text-2xl md:text-3xl font-bold text-blue-400">{{ total_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-blue-500 rounded-full" style="width: 100%"></div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-green-500/30">
                <h3 class="text-sm text-gray-400 mb-1">Completed</h3>
                <p class="text-2xl md:text-3xl font-bold text-green-400">{{ completed_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-green-500 rounded-full" style="width: {{ pct_completed }}%;">
                    </div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-yellow-500/30">
                <h3 class="text-sm text-gray-400 mb-1">Running</h3>
                <p class="text-2xl md:text-3xl font-bold text-yellow-400">{{ running_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-yellow-500 rounded-full pulse-animation" style="width: {{ pct_running }}%;">
                    </div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-cyan-500/30">
                <h3 class="text-sm text-gray-400 mb-1">Static</h3>
                <p class="text-2xl md:text-3xl font-bold text-cyan-400">{{ static_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-cyan-500 rounded-full" style="width: {{ pct_static }}%;">
                    </div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-blue-500/30">
                <h3 class="text-sm text-gray-400 mb-1">Dynamic</h3>
                <p class="text-2xl md:text-3xl font-bold text-blue-400">{{ dynamic_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-blue-500 rounded-full" style="width: {{ pct_dynamic }}%;">
                    </div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-purple-500/30">
                <h3 class="text-sm text-gray-400 mb-1">H1 Audits</h3>
                <p class="text-2xl md:text-3xl font-bold text-purple-400">{{ h1_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-purple-500 rounded-full" style="width: {{ pct_h1 }}%;">
                    </div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur rounded-xl p-5 border border-green-500/30">
                <h3 class="text-sm text-gray-400 mb-1">Phone Audits</h3>
                <p class="text-2xl md:text-3xl font-bold text-green-400">{{ phone_sessions }}</p>
                <div class="h-1 w-full bg-gray-700 mt-2 rounded-full overflow-hidden">
                    <div class="h-full bg-green-500 rounded-full" style="width: {{ pct_phone }}%;">
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-300 mb-4">Quick Actions</h3>
            <div class="flex flex-wrap gap-3">
                <a href="/responsive/static"
                    class="px-4 py-2 bg-cyan-900/30 hover:bg-cyan-800/40 rounded-lg border border-cyan-500/30 transition">
                    üì∏ New Static Audit
                </a>
                <a href="/responsive/dynamic"
                    class="px-4 py-2 bg-blue-900/30 hover:bg-blue-800/40 rounded-lg border border-blue-500/30 transition">
                    üé¨ New Dynamic Audit
                </a>
                <a href="/h1-audit"
                    class="px-4 py-2 bg-purple-900/30 hover:bg-purple-800/40 rounded-lg border border-purple-500/30 transition">
                    üìú New H1 Audit
                </a>
                <a href="/phone-audit"
                    class="px-4 py-2 bg-green-900/30 hover:bg-green-800/40 rounded-lg border border-green-500/30 transition">
                    üìû New Phone Audit
                </a>
                <button onclick="clearCompletedSessions()"
                    class="px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg border border-gray-600 transition">
                    üóëÔ∏è Clear Completed
                </button>
            </div>
        </div>

        <!-- Sessions Table -->
        <div class="bg-gray-800/30 backdrop-blur rounded-xl p-6 border border-gray-700/50">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                <h2 class="text-2xl font-bold text-blue-300">Audit Sessions</h2>
                <div class="flex gap-2">
                    <input type="text" id="searchSessions" placeholder="Search sessions..."
                        class="px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition w-full md:w-64">
                    <select id="filterType"
                        class="px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                        <option value="all">All Types</option>
                        <option value="static">Static</option>
                        <option value="dynamic">Dynamic</option>
                        <option value="h1">H1</option>
                        <option value="phone">Phone</option>
                    </select>
                    <select id="filterStatus"
                        class="px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                        <option value="all">All Status</option>
                        <option value="running">Running</option>
                        <option value="completed">Completed</option>
                        <option value="error">Error</option>
                        <option value="stopped">Stopped</option>
                    </select>
                </div>
            </div>

            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="text-left border-b border-gray-700">
                            <th class="pb-3 px-2">Name</th>
                            <th class="pb-3 px-2">Type</th>
                            <th class="pb-3 px-2">Status</th>
                            <th class="pb-3 px-2">Progress</th>
                            <th class="pb-3 px-2">Created</th>
                            <th class="pb-3 px-2 text-right">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="sessionsTableBody">
                        {% if sessions %}
                        {% for session in sessions %}
                        <tr class="border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors session-row"
                            data-type="{{ session.session_type }}" data-status="{{ session.status }}"
                            data-name="{{ session.name|lower }}">
                            <td class="py-4 px-2">
                                <div class="font-medium">{{ session.name }}</div>
                                <div class="text-sm text-gray-400 mt-1">
                                    {{ session.urls|length }} URL(s)
                                    {% if session.urls|length == 1 %}
                                    <div class="truncate max-w-xs text-xs mt-1">{{ session.urls[0][:50] }}{% if
                                        session.urls[0]|length > 50 %}...{% endif %}</div>
                                    {% endif %}
                                </div>
                            </td>
                            <td class="py-4 px-2">
                                {% if session.session_type == 'static' %}
                                <span class="session-type-badge"
                                    style="background-color: rgba(6, 182, 212, 0.2); color: #06b6d4; border-color: rgba(6, 182, 212, 0.3);">
                                    üì∏ Static
                                </span>
                                {% elif session.session_type == 'dynamic' %}
                                <span class="session-type-badge"
                                    style="background-color: rgba(59, 130, 246, 0.2); color: #3b82f6; border-color: rgba(59, 130, 246, 0.3);">
                                    üé¨ Dynamic
                                </span>
                                {% elif session.session_type == 'h1' %}
                                <span class="session-type-badge"
                                    style="background-color: rgba(168, 85, 247, 0.2); color: #a855f7; border-color: rgba(168, 85, 247, 0.3);">
                                    H1 Audit
                                </span>
                                {% elif session.session_type == 'phone' %}
                                <span class="session-type-badge"
                                    style="background-color: rgba(34, 197, 94, 0.2); color: #22c55e; border-color: rgba(34, 197, 94, 0.3);">
                                    üìû Phone
                                </span>
                                {% else %}
                                <span class="session-type-badge bg-gray-700 text-gray-300">
                                    {{ session.session_type|title }}
                                </span>
                                {% endif %}
                            </td>
                            <td class="py-4 px-2">
                                {% if session.status == 'completed' %}
                                <span class="status-badge"
                                    style="background-color: rgba(34, 197, 94, 0.2); color: #22c55e;">
                                    ‚úì Completed
                                </span>
                                {% elif session.status == 'running' %}
                                <span class="status-badge pulse-animation"
                                    style="background-color: rgba(234, 179, 8, 0.2); color: #eab308;">
                                    ‚ö° Running
                                </span>
                                {% elif session.status == 'stopped' %}
                                <span class="status-badge"
                                    style="background-color: rgba(239, 68, 68, 0.2); color: #ef4444;">
                                    ‚èπÔ∏è Stopped
                                </span>
                                {% elif session.status == 'error' %}
                                <span class="status-badge"
                                    style="background-color: rgba(239, 68, 68, 0.2); color: #ef4444;">
                                    ‚ùå Error
                                </span>
                                {% else %}
                                <span class="status-badge bg-gray-700 text-gray-300">
                                    {{ session.status }}
                                </span>
                                {% endif %}
                            </td>
                            <td class="py-4 px-2">
                                <div class="flex items-center gap-3">
                                    <div class="w-24 bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div class="progress-bar h-2.5 rounded-full 
                                                {% if session.status == 'completed' %}bg-green-600
                                                {% elif session.status == 'running' %}bg-blue-600
                                                {% elif session.status == 'error' %}bg-red-600
                                                {% elif session.status == 'stopped' %}bg-yellow-600
                                                {% else %}bg-gray-600{% endif %}"
                                            style="width: {{ session.progress_percent }}%; max-width: 100%;">
                                        </div>
                                    </div>
                                    <div class="text-sm text-gray-400 min-w-[80px]">
                                        {{ session.completed }}/{{ session.total_expected }}
                                        {% if session.total_expected > 0 %}
                                        <span class="block text-xs">({{ session.progress_percent }}%)</span>
                                        {% endif %}
                                    </div>
                                </div>
                            </td>
                            <td class="py-4 px-2 text-gray-400">
                                <div class="text-sm">{{ session.created_at.strftime('%Y-%m-%d') if session.created_at
                                    else 'N/A' }}</div>
                                <div class="text-xs text-gray-500">{{ session.created_at.strftime('%H:%M') if
                                    session.created_at else '' }}</div>
                                {% if session.completed_at and session.status == 'completed' %}
                                <div class="text-xs text-green-500 mt-1">
                                    Completed: {{ session.completed_at.strftime('%H:%M') if session.completed_at else ''
                                    }}
                                </div>
                                {% endif %}
                            </td>
                            <td class="py-4 px-2 text-right">
                                <div class="flex justify-end gap-2">
                                    {% if session.status == 'running' %}
                                    <button onclick="stopSession('{{ session.session_id }}')"
                                        class="px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded text-sm transition flex items-center gap-1">
                                        <span>‚èπÔ∏è</span> Stop
                                    </button>
                                    {% endif %}

                                    {% if session.status == 'completed' %}
                                    <a href="/results/{{ session.session_type }}/{{ session.session_id }}"
                                        class="px-3 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-sm transition flex items-center gap-1">
                                        <span>üëÅÔ∏è</span> View
                                    </a>
                                    {% endif %}

                                    <button
                                        onclick="deleteSession('{{ session.session_id }}', '{{ session.session_type }}')"
                                        class="px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm transition flex items-center gap-1">
                                        <span>üóëÔ∏è</span> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                        {% endif %}
                    </tbody>
                </table>
            </div>

            {% if not sessions %}
            <div class="text-center py-12 text-gray-500">
                <div class="mb-6">
                    <div class="text-6xl mb-4">üìä</div>
                    <p class="text-xl mb-2">No audit sessions yet.</p>
                    <p class="text-gray-400 mb-6">Get started with one of these audits:</p>
                </div>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <a href="/responsive/static"
                        class="px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 rounded-lg transition text-center">
                        üì∏ Start Static Audit
                    </a>
                    <a href="/h1-audit"
                        class="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 rounded-lg transition text-center">
                        üìú Start H1 Audit
                    </a>
                    <a href="/phone-audit"
                        class="px-6 py-3 bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-400 hover:to-teal-500 rounded-lg transition text-center">
                        üìû Start Phone Audit
                    </a>
                </div>
            </div>
            {% else %}
            <!-- Session Summary -->
            <div class="mt-8 pt-6 border-t border-gray-700/50">
                <div class="flex flex-wrap justify-between items-center gap-4">
                    <div class="text-gray-400 text-sm">
                        Showing {{ sessions|length }} session{% if sessions|length != 1 %}s{% endif %}
                    </div>
                    <div class="flex gap-4">
                        <button onclick="exportSessionData()"
                            class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition text-sm">
                            üì• Export Data
                        </button>
                        <button onclick="refreshPage()"
                            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition text-sm">
                            üîÑ Refresh
                        </button>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Usage Tips -->
        <div class="mt-8 bg-gray-800/50 backdrop-blur rounded-xl p-6 border border-gray-700/50">
            <h3 class="text-lg font-bold text-gray-300 mb-4">üí° Usage Tips</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="p-4 bg-gray-900/30 rounded-lg">
                    <h4 class="font-medium text-cyan-300 mb-2">Batch Processing</h4>
                    <p class="text-gray-400 text-sm">Upload multiple URLs in a single file. The system processes them in
                        batches for efficiency.</p>
                </div>
                <div class="p-4 bg-gray-900/30 rounded-lg">
                    <h4 class="font-medium text-purple-300 mb-2">Real-time Monitoring</h4>
                    <p class="text-gray-400 text-sm">Pages auto-refresh when audits are running. You can also manually
                        stop any session.</p>
                </div>
                <div class="p-4 bg-gray-900/30 rounded-lg">
                    <h4 class="font-medium text-green-300 mb-2">Data Retention</h4>
                    <p class="text-gray-400 text-sm">Screenshots, videos, and audit results are stored until you delete
                        them. Export data regularly.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function logout() {
            try {
                // Call server logout
                await fetch('/api/auth/logout', { method: 'POST' });
            } catch (e) {
                console.error('Logout failed', e);
            }
            // Clear cookie
            document.cookie = "access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            window.location.href = "/login";
        }

        function refreshPage() {
            location.reload();
        }

        function clearCompletedSessions() {
            if (!confirm('Clear all completed sessions? This will delete all completed audit data.')) {
                return;
            }
            alert('Feature coming soon! For now, delete sessions individually.');
        }

        function exportSessionData() {
            const sessions = [];
            document.querySelectorAll('.session-row').forEach(row => {
                const name = row.querySelector('.font-medium').textContent.trim();
                const type = row.querySelector('.session-type-badge').textContent.trim();
                const status = row.querySelector('.status-badge').textContent.trim();
                const progressElement = row.querySelector('.text-sm.text-gray-400');
                const progress = progressElement ? progressElement.textContent.trim() : 'N/A';
                const createdElement = row.querySelector('.text-sm');
                const created = createdElement ? createdElement.textContent.trim() : 'N/A';

                sessions.push({ name, type, status, progress, created });
            });

            // Convert to CSV
            const csvContent = [
                ['Name', 'Type', 'Status', 'Progress', 'Created'],
                ...sessions.map(s => [s.name, s.type, s.status, s.progress, s.created])
            ].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');

            // Download
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `audit-sessions-${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            alert('Session data exported successfully!');
        }

        async function stopSession(sessionId) {
            if (!confirm('Are you sure you want to stop this session?')) {
                return;
            }

            try {
                const token = getCookie('access_token');
                if (!token) {
                    alert('Please log in again.');
                    window.location.href = '/login';
                    return;
                }

                const response = await fetch('/api/sessions/' + sessionId + '/stop', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer ' + token,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    alert('Session stopped successfully');
                    location.reload();
                } else {
                    try {
                        const error = await response.json();
                        alert(error.detail || 'Failed to stop session');
                    } catch {
                        alert('Failed to stop session');
                    }
                }
            } catch (error) {
                console.error('Error stopping session:', error);
                alert('Error stopping session');
            }
        }

        async function deleteSession(sessionId, sessionType) {
            const sessionTypeText = sessionType === 'static' ? 'Static Audit' :
                sessionType === 'dynamic' ? 'Dynamic Audit' :
                    sessionType === 'h1' ? 'H1 Audit' :
                        sessionType === 'phone' ? 'Phone Audit' : 'Audit';

            if (!confirm(`Are you sure you want to delete this ${sessionTypeText} session? This will remove all associated files and cannot be undone.`)) {
                return;
            }

            try {
                const token = getCookie('access_token');
                if (!token) {
                    alert('Please log in again.');
                    window.location.href = '/login';
                    return;
                }

                const response = await fetch('/api/sessions/' + sessionId, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': 'Bearer ' + token,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    alert('Session deleted successfully');
                    location.reload();
                } else {
                    try {
                        const error = await response.json();
                        alert(error.detail || 'Failed to delete session');
                    } catch {
                        alert('Failed to delete session');
                    }
                }
            } catch (error) {
                console.error('Error deleting session:', error);
                alert('Error deleting session');
            }
        }

        function getCookie(name) {
            const value = '; ' + document.cookie;
            const parts = value.split('; ' + name + '=');
            if (parts.length === 2) {
                return parts.pop().split(';').shift();
            }
            return null;
        }

        // Filter and search functionality
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('searchSessions');
            const filterType = document.getElementById('filterType');
            const filterStatus = document.getElementById('filterStatus');
            const sessionRows = document.querySelectorAll('.session-row');

            function filterSessions() {
                const searchTerm = searchInput.value.toLowerCase();
                const typeFilter = filterType.value;
                const statusFilter = filterStatus.value;

                sessionRows.forEach(row => {
                    const name = row.dataset.name;
                    const type = row.dataset.type;
                    const status = row.dataset.status;

                    const matchesSearch = !searchTerm || name.includes(searchTerm);
                    const matchesType = typeFilter === 'all' || type === typeFilter;
                    const matchesStatus = statusFilter === 'all' || status === statusFilter;

                    if (matchesSearch && matchesType && matchesStatus) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            }

            if (searchInput) searchInput.addEventListener('input', filterSessions);
            if (filterType) filterType.addEventListener('change', filterSessions);
            if (filterStatus) filterStatus.addEventListener('change', filterSessions);

            // Auto-refresh for running sessions
            function checkRunningSessions() {
                const runningSessions = document.querySelectorAll('.pulse-animation');
                if (runningSessions.length > 0) {
                    setTimeout(function () {
                        location.reload();
                    }, 15000); // Refresh every 15 seconds if there are running sessions
                }
            }

            checkRunningSessions();

            // Animate progress bars
            const progressBars = document.querySelectorAll('.progress-bar');
            progressBars.forEach(bar => {
                const currentWidth = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = currentWidth;
                }, 100);
            });

            // Add hover effects to table rows
            sessionRows.forEach(row => {
                row.addEventListener('mouseenter', function () {
                    this.style.backgroundColor = 'rgba(55, 65, 81, 0.5)';
                });

                row.addEventListener('mouseleave', function () {
                    this.style.backgroundColor = '';
                });
            });
        });
    </script>
</body>

</html>